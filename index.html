<!DOCTYPE html>
<html>
<head>
    <title>Animation.test</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="stylesheet" href="style.css">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
    <script type="text/javascript" src="animation.js"></script>
</head>
<body>
<canvas id="canvas"></canvas>

<span id="span">
    <img src="image.jpg"/>
</span>

<script>
    var img = new Image();
    img.src = $('img')[0].src;
    canvas = $('#canvas')[0];
    width = canvas.width;
    height = canvas.height;
    var ctx = canvas.getContext('2d');
    ctx.drawImage(img, 0, 0, width, height);

    redCyan();
    //    tone();
    var interval = 0;
    theInterval = setInterval(function () {
        console.log(interval);
        tone();
        redCyan();
        if (interval > 18 && interval < 27) {
            text('nothing');
        }
        if (interval > 54 && interval < 72) {
            text('something');
        }
        if (interval > 90 && interval < 108) {
            text('end_stream');
        }
//        if (interval == 360) {
//            clearInterval(theInterval);
//        }
        interval++;
    }, 90);
</script>
</body>
</html>